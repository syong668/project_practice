"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[987],{6825:function(e,l,r){r.d(l,{Z:function(){return c}});var a=r(3396),s=r(7139);const t={class:"process mb-5"};function o(e,l,r,o,n,d){return(0,a.wg)(),(0,a.iD)("ul",t,[(0,a._)("li",{class:(0,s.C_)(["d-md-flex",{"bg-primary":"1"==r.path,"d-none":"1"!=r.path}])},[(0,a._)("i",{class:(0,s.C_)(["bi bi-cart-check-fill fs-2",{"text-light":"1"==r.path}])},null,2),(0,a._)("span",{class:(0,s.C_)({"text-light":"1"==r.path})},"確認購買明細",2)],2),(0,a._)("li",{class:(0,s.C_)(["d-md-flex",{"bg-primary":"2"==r.path,"d-none":"2"!=r.path}])},[(0,a._)("i",{class:(0,s.C_)(["bi bi-person-lines-fill fs-2",{"text-light":"2"==r.path}])},null,2),(0,a._)("span",{class:(0,s.C_)({"text-light":"2"==r.path})},"填寫訂購資料",2)],2),(0,a._)("li",{class:(0,s.C_)(["d-md-flex",{"bg-primary":"3"==r.path,"d-none":"3"!=r.path}])},[(0,a._)("i",{class:(0,s.C_)(["bi bi-check-circle-fill fs-2",{"text-light":"3"==r.path}])},null,2),(0,a._)("span",{class:(0,s.C_)({"text-light":"3"==r.path})},"完成商品訂購",2)],2)])}var n={props:["path"]},d=r(89);const i=(0,d.Z)(n,[["render",o]]);var c=i},8987:function(e,l,r){r.r(l),r.d(l,{default:function(){return D}});var a=r(3396),s=r(7139),t=r(9242);const o={class:"container"},n={class:"border my-5 px-0 px-lg-5 py-0 py-md-5"},d={class:"row justify-content-center"},i={class:"col-11 col-md-6"},c=(0,a._)("div",{class:"border-primary text-primary pb-1 h4 fw-bold mb-3"},[(0,a._)("div",{class:"border-5 border-start border-primary fw-bold h5 ps-2 py-1 bg-light"},"收件資料")],-1),m=(0,a._)("label",{class:"form-label"},"姓名",-1),u=(0,a._)("label",{class:"form-label mt-3"},"E-Mail",-1),p=(0,a._)("label",{class:"form-label mt-3"},"電話",-1),h=(0,a._)("label",{class:"form-label mt-3"},"地址",-1),b=(0,a._)("label",{class:"form-label mt-3"},"付款方式",-1),f=(0,a._)("option",{value:"",disabled:""},"請選擇付款方式",-1),_=(0,a._)("option",{value:"宅配貨到付款"},"宅配貨到付款",-1),g=(0,a._)("option",{value:"信用卡線上刷卡"},"信用卡線上刷卡",-1),v=(0,a._)("label",{class:"form-label mt-3"},"留言",-1),x={class:"my-5 d-flex justify-content-between"},y=(0,a._)("i",{class:"bi bi-arrow-left pe-1"},null,-1),k=(0,a.Uk)("確認購買明細"),w=(0,a._)("button",{type:"submit",class:"btn btn-primary rounded-0"},[(0,a.Uk)("完成商品訂購"),(0,a._)("i",{class:"bi bi-arrow-right ps-1"})],-1);function C(e,l,r,C,W,V){const U=(0,a.up)("loadingTip"),q=(0,a.up)("process"),D=(0,a.up)("v-field"),j=(0,a.up)("error-message"),I=(0,a.up)("router-link"),L=(0,a.up)("v-form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(U,{active:W.isLoading},null,8,["active"]),(0,a._)("div",o,[(0,a._)("div",n,[(0,a.Wm)(q,{path:W.processPath},null,8,["path"]),(0,a._)("div",d,[(0,a._)("div",i,[c,(0,a.Wm)(L,{onSubmit:V.createOrder},{default:(0,a.w5)((e=>[m,(0,a.Wm)(D,{modelValue:W.form.user.name,"onUpdate:modelValue":l[0]||(l[0]=e=>W.form.user.name=e),class:(0,s.C_)(["form-control rounded-0",{"is-invalid":e.errors["姓名"]}]),name:"姓名",type:"text",placeholder:"",rules:"required"},null,8,["modelValue","class"]),(0,a.Wm)(j,{name:"姓名",class:"d-block text-danger"}),u,(0,a.Wm)(D,{modelValue:W.form.user.email,"onUpdate:modelValue":l[1]||(l[1]=e=>W.form.user.email=e),class:(0,s.C_)(["form-control rounded-0",{"is-invalid":e.errors["email"]}]),name:"email",type:"text",placeholder:"",rules:"email|required"},null,8,["modelValue","class"]),(0,a.Wm)(j,{name:"email",class:"d-block text-danger"}),p,(0,a.Wm)(D,{modelValue:W.form.user.tel,"onUpdate:modelValue":l[2]||(l[2]=e=>W.form.user.tel=e),class:(0,s.C_)(["form-control rounded-0",{"is-invalid":e.errors["tel"]}]),name:"tel",type:"text",placeholder:"",rules:V.isPhone},null,8,["modelValue","class","rules"]),(0,a.Wm)(j,{name:"tel",class:"d-block text-danger"}),h,(0,a.Wm)(D,{modelValue:W.form.user.address,"onUpdate:modelValue":l[3]||(l[3]=e=>W.form.user.address=e),class:(0,s.C_)(["form-control rounded-0",{"is-invalid":e.errors["地址"]}]),name:"地址",type:"text",placeholder:"",rules:"required"},null,8,["modelValue","class"]),(0,a.Wm)(j,{name:"地址",class:"d-block text-danger"}),b,(0,a.Wm)(D,{name:"付款方式",class:(0,s.C_)(["form-control rounded-0",{"is-invalid":e.errors["付款方式"]}]),placeholder:"請選擇付款方式",rules:"required",as:"select"},{default:(0,a.w5)((()=>[f,_,g])),_:2},1032,["class"]),(0,a.Wm)(j,{name:"付款方式",class:"d-block text-danger"}),v,(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":l[4]||(l[4]=e=>W.form.message=e),class:"form-control rounded-0",name:"message",placeholder:"",rows:"3"},null,512),[[t.nr,W.form.message]]),(0,a._)("div",x,[(0,a.Wm)(I,{to:"/cart",class:"btn btn-outline-primary rounded-0"},{default:(0,a.w5)((()=>[y,k])),_:1}),w])])),_:1},8,["onSubmit"])])])])])],64)}var W=r(6825),V={data(){return{isLoading:!1,processPath:2,form:{user:{name:"",email:"",tel:"",address:""},message:""},orderID:""}},components:{process:W.Z},methods:{createOrder(){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/bear-work/order",l=this.form;this.$http.post(e,{data:l}).then((e=>{console.log(e.data),this.isLoading=!1,this.orderID=e.data.orderId,this.$router.push(`/checkout/${this.orderID}`)}))},isRequired(e){return!!e||"此欄是必填"},isPhone(e){const l=/^(09)[0-9]{8}$/;return!!l.test(e)||"需要正確的電話號碼"}}},U=r(89);const q=(0,U.Z)(V,[["render",C]]);var D=q}}]);
//# sourceMappingURL=987.acc516f0.js.map