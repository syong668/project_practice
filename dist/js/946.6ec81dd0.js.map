{"version":3,"file":"js/946.6ec81dd0.js","mappings":"iMAEOA,MAAM,a,GACJA,MAAM,iB,GAKJA,MAAM,oC,GACXC,EAAAA,EAAAA,GASQ,SATDD,MAAM,cAAY,EACvBC,EAAAA,EAAAA,GAOK,YANHA,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAAyB,MAArBC,MAAM,OAAM,SAChBD,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,UAPpB,G,GAUOF,MAAM,Y,GAILA,MAAM,c,GAGNA,MAAM,c,SAIFA,MAAM,gB,SACNA,MAAM,c,GAGPA,MAAM,a,kMAjCrBG,EAAAA,EAAAA,IAA6CC,EAAA,CAAhCC,OAAQC,EAAAA,WAAS,oBAC9BL,EAAAA,EAAAA,GAiDM,MAjDN,EAiDM,EAhDJA,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHJA,EAAAA,EAAAA,GAES,UAFDD,MAAM,kBAAkBO,KAAK,SAAUC,QAAK,eAAEC,EAAAA,WAAS,KAAQ,aAIzER,EAAAA,EAAAA,GAoCQ,QApCR,EAoCQ,CAnCNS,GAUAT,EAAAA,EAAAA,GAwBQ,QAxBR,EAwBQ,gBAvBNU,EAAAA,EAAAA,IAsBKC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAtBcP,EAAAA,UAARQ,K,WAAXH,EAAAA,EAAAA,IAsBK,MAtByBI,IAAKD,EAAKE,IAAxC,EACEf,EAAAA,EAAAA,GAA0B,WAAAgB,EAAAA,EAAAA,IAApBH,EAAKI,UAAQ,IACnBjB,EAAAA,EAAAA,GAAuB,WAAAgB,EAAAA,EAAAA,IAAjBH,EAAKK,OAAK,IAChBlB,EAAAA,EAAAA,GAEK,KAFL,GAEKgB,EAAAA,EAAAA,IADAG,EAAAA,SAASC,SAASP,EAAKQ,eAAY,IAExCrB,EAAAA,EAAAA,GAEK,KAFL,GAEKgB,EAAAA,EAAAA,IADAG,EAAAA,SAASC,SAASP,EAAKS,QAAK,IAEjCtB,EAAAA,EAAAA,GAGK,WAF6C,GAAfa,EAAKU,aAAU,WAAhDb,EAAAA,EAAAA,IAAgE,OAAhE,EAAuD,SAAvD,WACAA,EAAAA,EAAAA,IAA0C,OAA1C,EAAgC,WAElCV,EAAAA,EAAAA,GAQK,YAPHA,EAAAA,EAAAA,GAMM,MANN,EAMM,EALJA,EAAAA,EAAAA,GAGY,UAFVD,MAAM,iCACLQ,QAAK,GAAEC,EAAAA,WAAS,EAAQK,IAC1B,KAAE,EAAAW,IACHxB,EAAAA,EAAAA,GAA4F,UAApFD,MAAM,gCAAiCQ,QAAK,GAAEC,EAAAA,oBAAoBK,IAAO,KAAE,EAAAY,YAnBzF,WA0BJvB,EAAAA,EAAAA,IAIYwB,EAAA,CAHV3B,MAAM,qCACL4B,KAAMtB,EAAAA,WACNuB,WAAWpB,EAAAA,aAHd,iCAWFN,EAAAA,EAAAA,IAKe2B,EAAA,CAJZC,gBAAgBtB,EAAAA,cACjBuB,IAAI,eACHC,QAAS3B,EAAAA,aAHZ,uCAMAH,EAAAA,EAAAA,IAAqE+B,EAAA,CAA1DpB,KAAMR,EAAAA,YAAa0B,IAAI,WAAYG,UAAU1B,EAAAA,YAAxD,kC,uBC5DET,MAAM,aACNgB,GAAG,eACHoB,SAAS,KACT,kBAAgB,oBAChB,cAAY,OACZJ,IAAI,S,GAIChC,MAAM,wBAAwBqC,KAAK,Y,GACjCrC,MAAM,0B,GACJA,MAAM,mC,GACLA,MAAM,cAAcgB,GAAG,qB,GAG3Bf,EAAAA,EAAAA,GAC4D,UADpDM,KAAK,SAASP,MAAM,YACpB,kBAAgB,QAAQ,aAAW,SAD3C,S,GAGGA,MAAM,c,GACJA,MAAM,O,GACJA,MAAM,Y,GACJA,MAAM,Q,GACTC,EAAAA,EAAAA,GAAoD,SAA7CqC,IAAI,QAAQtC,MAAM,cAAa,UAAM,G,GASzCA,MAAM,Q,GACTC,EAAAA,EAAAA,GAEQ,SAFDqC,IAAI,aAAatC,MAAM,cAA9B,UAA2C,YACzCC,EAAAA,EAAAA,GAAsC,KAAnCD,MAAM,6BADX,G,mBAcCA,MAAM,Q,GACTC,EAAAA,EAAAA,GAA0C,SAAnCD,MAAM,cAAa,YAAQ,G,2CAa9BC,EAAAA,EAAAA,GAA0B,KAAvBD,MAAM,cAAY,S,GAArBuC,G,aAmBDvC,MAAM,Y,GACJA,MAAM,Q,GACTC,EAAAA,EAAAA,GAAgD,SAAzCqC,IAAI,QAAQtC,MAAM,cAAa,MAAE,G,GAUrCA,MAAM,Y,GACJA,MAAM,iB,GACTC,EAAAA,EAAAA,GAAmD,SAA5CqC,IAAI,WAAWtC,MAAM,cAAa,MAAE,G,GASxCA,MAAM,iB,GACTC,EAAAA,EAAAA,GAAgD,SAAzCqC,IAAI,QAAQtC,MAAM,cAAa,MAAE,G,GAWvCA,MAAM,Y,GACJA,MAAM,iB,GACTC,EAAAA,EAAAA,GAAuD,SAAhDqC,IAAI,eAAetC,MAAM,cAAa,MAAE,G,GAS5CA,MAAM,iB,GACTC,EAAAA,EAAAA,GAAgD,SAAzCqC,IAAI,QAAQtC,MAAM,cAAa,MAAE,G,GAU5CC,EAAAA,EAAAA,GAAI,mB,IAECD,MAAM,Q,IACTC,EAAAA,EAAAA,GAAwD,SAAjDqC,IAAI,cAActC,MAAM,cAAa,QAAI,G,IAU7CA,MAAM,Q,IACTC,EAAAA,EAAAA,GAAoD,SAA7CqC,IAAI,UAAUtC,MAAM,cAAa,QAAI,G,IAUzCA,MAAM,Q,IACJA,MAAM,c,IASTC,EAAAA,EAAAA,GAEQ,SAFDD,MAAM,mBAAmBsC,IAAI,cAAa,UAEjD,G,IAMLtC,MAAM,gB,IACTC,EAAAA,EAAAA,GAES,UAFDM,KAAK,SAASP,MAAM,4BACpB,kBAAgB,SAAQ,OAChC,G,2CAtLRW,EAAAA,EAAAA,IAkMM,MAlMN,EAkMM,EAxLJV,EAAAA,EAAAA,GAsLM,MAtLN,EAsLM,EArLJA,EAAAA,EAAAA,GAoLM,MApLN,EAoLM,EAnLJA,EAAAA,EAAAA,GAMM,MANN,EAMM,EALJA,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHA,EAAAA,EAAAA,GAAoD,aAAAgB,EAAAA,EAAAA,IAA5CX,EAAAA,YAAYa,MAAK,oBAE3BqB,KAGFvC,EAAAA,EAAAA,GA+JM,MA/JN,EA+JM,EA9JJA,EAAAA,EAAAA,GA6JM,MA7JN,EA6JM,EA5JJA,EAAAA,EAAAA,GA0DM,MA1DN,EA0DM,EAzDJA,EAAAA,EAAAA,GASM,MATN,EASM,CARJwB,GAQI,SAPJxB,EAAAA,EAAAA,GAMG,S,qCALQK,EAAAA,YAAYmC,QAAOC,GAC5BnC,KAAK,OACLP,MAAM,eACNgB,GAAG,QACH2B,YAAY,WALd,iBACWrC,EAAAA,YAAYmC,cAOzBxC,EAAAA,EAAAA,GAWM,MAXN,EAWM,CAVJ2C,GAGA3C,EAAAA,EAAAA,GAMC,SALCM,KAAK,OACLS,GAAG,aACHhB,MAAM,eACNgC,IAAI,YACHa,SAAM,oBAAEpC,EAAAA,YAAAA,EAAAA,cAAAA,KALX,aAQFR,EAAAA,EAAAA,GAAyD,OAAnD6C,IAAKxC,EAAAA,YAAYmC,QAASzC,MAAM,YAAY+C,IAAI,IAAtD,UAGsBzC,EAAAA,YAAY0C,SAAAA,EAAAA,EAAAA,OAApCrC,EAAAA,EAAAA,IA8BM,MA9BN,EA8BM,CA7BJsC,IA6BI,aA5BJtC,EAAAA,EAAAA,IAcMC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAdsBP,EAAAA,YAAY0C,QAAM,CAAjCE,EAAOnC,M,WAApBJ,EAAAA,EAAAA,IAcM,OAd2CI,IAAKA,EAAKf,MAAM,oBAAjE,WACEC,EAAAA,EAAAA,GAKG,SAJDM,KAAK,MACLP,MAAM,4BACN2C,YAAY,Q,yBACHrC,EAAAA,YAAY0C,OAAOjC,GAAG2B,GAJjC,iBAIWpC,EAAAA,YAAY0C,OAAOjC,OAE9Bd,EAAAA,EAAAA,GAMS,UALPM,KAAK,SACLP,MAAM,yBACLQ,QAAK,GAAEF,EAAAA,YAAY0C,OAAOG,OAAOpC,EAAG,IAHvC,YAPF,MAmBWT,EAAAA,YAAY0C,OAAO1C,EAAAA,YAAY0C,OAAOI,OAAM,IAAQ9C,EAAAA,YAAY0C,OAAOI,QAAM,IAAU9C,EAAAA,YAAY0C,OAAOI,SAAAA,EAAAA,EAAAA,OAArHzC,EAAAA,EAAAA,IAOM,MAAA0C,EAAA,EANJpD,EAAAA,EAAAA,GAKS,UAJPD,MAAM,+CACLQ,QAAK,eAAEF,EAAAA,YAAY0C,OAAOM,KAAI,MAChC,cAJH,mBArBF,kBAiCArD,EAAAA,EAAAA,GAgGM,MAhGN,EAgGM,EA/FJA,EAAAA,EAAAA,GASM,MATN,EASM,CARJsD,GAQI,SAPJtD,EAAAA,EAAAA,GAMC,S,qCALUK,EAAAA,YAAYa,MAAKuB,GAC1BnC,KAAK,OACLP,MAAM,eACNgB,GAAG,QACH2B,YAAY,SALd,iBACWrC,EAAAA,YAAYa,YAQzBlB,EAAAA,EAAAA,GAqBM,MArBN,EAqBM,EApBJA,EAAAA,EAAAA,GASM,MATN,EASM,CARJuD,GAQI,SAPJvD,EAAAA,EAAAA,GAMC,S,qCALUK,EAAAA,YAAYY,SAAQwB,GAC7BnC,KAAK,OACLP,MAAM,eACNgB,GAAG,WACH2B,YAAY,SALd,iBACWrC,EAAAA,YAAYY,eAOzBjB,EAAAA,EAAAA,GASM,MATN,EASM,CARJwD,GAQI,SAPJxD,EAAAA,EAAAA,GAMC,S,qCALUK,EAAAA,YAAYoD,KAAIhB,GACzBnC,KAAK,OACLP,MAAM,eACNgB,GAAG,OACH2B,YAAY,SALd,iBACWrC,EAAAA,YAAYoD,aAS3BzD,EAAAA,EAAAA,GAqBM,MArBN,EAqBM,EApBJA,EAAAA,EAAAA,GASM,MATN,EASM,CARJ0D,GAQI,SAPJ1D,EAAAA,EAAAA,GAMC,S,qCALUK,EAAAA,YAAYgB,aAAYoB,GACjCnC,KAAK,SACLP,MAAM,eACNgB,GAAG,eACH2B,YAAY,SALd,iBACWrC,EAAAA,YAAYgB,mBAOzBrB,EAAAA,EAAAA,GASM,MATN,EASM,CARJ2D,GAQI,SAPJ3D,EAAAA,EAAAA,GAMC,S,qCALUK,EAAAA,YAAYiB,MAAKmB,GAC1BnC,KAAK,SACLP,MAAM,eACNgB,GAAG,QACH2B,YAAY,SALd,iBACWrC,EAAAA,YAAYiB,aAQ3BsC,GAEA5D,EAAAA,EAAAA,GAUM,MAVN,GAUM,CATJ6D,IASI,SARJ7D,EAAAA,EAAAA,GAOW,Y,qCANAK,EAAAA,YAAYyD,YAAWrB,GAChCnC,KAAK,OACLP,MAAM,eACNgB,GAAG,cACH2B,YAAY,WACX,uBACH,YANWrC,EAAAA,YAAYyD,kBAQzB9D,EAAAA,EAAAA,GAUM,MAVN,GAUM,CATJ+D,IASI,SARJ/D,EAAAA,EAAAA,GAOW,Y,qCANAK,EAAAA,YAAY2D,QAAOvB,GAC5BnC,KAAK,OACLP,MAAM,eACNgB,GAAG,UACH2B,YAAY,aACX,uBACH,YANWrC,EAAAA,YAAY2D,cAQzBhE,EAAAA,EAAAA,GAcM,MAdN,GAcM,EAbJA,EAAAA,EAAAA,GAYM,MAZN,GAYM,WAXJA,EAAAA,EAAAA,GAOC,S,uCANUK,EAAAA,YAAYkB,WAAUkB,GAC/B1C,MAAM,mBACNO,KAAK,WACJ,aAAY,EACZ,cAAa,EACdS,GAAG,cANL,iBACWV,EAAAA,YAAYkB,cAOvB0C,cAQVjE,EAAAA,EAAAA,GAWM,MAXN,GAWM,CAVJkE,IAGAlE,EAAAA,EAAAA,GAMS,UALNO,QAAK,iBAAEY,EAAAA,MAAK,iBAAkBd,EAAAA,cAC/BC,KAAK,SACLP,MAAM,mBACP,eA3LT,K,eAwMF,IACEoE,MAAO,CACLnC,QAAS,CACP1B,KAAM8D,OACNC,UAAa,MAAO,MAIxBC,MAAO,CAELtC,UACEuC,KAAKC,YAAcD,KAAKvC,QACxByC,QAAQC,IAAI,8BAAgCH,KAAKC,YAAYzB,QACxDwB,KAAKC,YAAYzB,SACpBwB,KAAKC,YAAYzB,OAAS,MAKhC4B,OACE,MAAO,CACLC,MAAO,GACPJ,YAAa,KAKjBK,QAAS,CAEPC,aACE,MAAMC,EAAeR,KAAKS,MAAMC,UAAUC,MAAM,GAChDT,QAAQU,IAAIJ,GACZ,MAAMK,EAAW,IAAIC,SACrBD,EAASE,OAAO,iBAAkBP,GAClC,MAAMQ,EAAO,kEACPC,EAASjB,KAAKS,MAAMC,UAAUlE,GACpCwD,KAAKkB,MAAMC,KAAKH,EAAKH,GAClBO,MAAMC,IACLnB,QAAQC,IAAIkB,EAAIjB,MACZiB,EAAIjB,KAAKkB,UACXtB,KAAKC,YAAYhC,QAAUoD,EAAIjB,KAAKmB,SACpCC,SAASC,eAAeR,GAAQS,MAAQ,SAKlDC,OAAQ,CAACC,GAAAA,I,SCnPX,MAAMC,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,qBCNO,aAAW,2B,IACVrG,MAAM,c,IAQJC,EAAAA,EAAAA,GAAuC,QAAjC,cAAY,QAAO,KAAO,G,IAAhCqG,I,mBAqBArG,EAAAA,EAAAA,GAAuC,QAAjC,cAAY,QAAO,KAAO,G,IAAhCuC,I,2CA9BR7B,EAAAA,EAAAA,IAkCM,MAlCN,GAkCM,EAjCJV,EAAAA,EAAAA,GAgCK,KAhCL,GAgCK,EA/BHA,EAAAA,EAAAA,GASK,MATDD,OAAK,SAAC,YAAW,WAAuBuG,EAAAA,KAAKC,YAAjD,EACEvG,EAAAA,EAAAA,GAOI,KANFD,MAAM,YACNyG,KAAK,IACL,aAAW,WACVjG,QAAK,yBAAUC,EAAAA,WAAW8F,EAAAA,KAAKG,aAAY,mBAJ9C,KADF,KA+BG,aApBH/F,EAAAA,EAAAA,IASKC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IARkB0F,EAAAA,KAAKI,aAAnBC,K,WADTjG,EAAAA,EAAAA,IASK,MAPFI,IAAK6F,EACN5G,OAAK,SAAC,YAAW,QACG4G,GAAcL,EAAAA,KAAKG,iBAJzC,EAMEzG,EAAAA,EAAAA,GAEI,KAFDD,MAAM,YAAYyG,KAAK,IAAKjG,SAAK,YAAUC,EAAAA,WAAWmG,IAAU,eAAnE,QACKA,GAAU,EAAAC,KAPjB,aAUA5G,EAAAA,EAAAA,GASK,MATDD,OAAK,SAAC,YAAW,WAAuBuG,EAAAA,KAAKO,aAAjD,EACE7G,EAAAA,EAAAA,GAOI,KANFD,MAAM,YACNyG,KAAK,IACL,aAAW,OACVjG,QAAK,yBAAUC,EAAAA,WAAW8F,EAAAA,KAAKG,aAAY,mBAJ9C,KADF,OAeN,QACEtC,MAAO,CAAC,QACRU,QAAS,CACPiC,WAAYH,GACVpC,KAAKwC,MAAM,YAAaJ,KAG5BK,MAAO,CAAC,cCzCV,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,UJiEA,IACErC,OACE,MAAO,CACLsC,SAAU,GACVN,WAAY,GACZnC,YAAa,GACb0C,OAAO,EACPC,WAAW,IAGfC,WAAY,CAEVC,aAFU,GAGVC,SAHU,KAIVC,SAAAA,IAEFC,OAAQ,CAAC,WACT3C,QAAS,CAGP4C,YAAa9F,EAAO,GAClB,MAAM+F,EAAO,2EAAiF/F,IAC9F4C,KAAK4C,WAAY,EACjB5C,KAAKkB,MAAMkC,IAAID,GACZ/B,MAAMC,IACDA,EAAIjB,KAAKkB,UACXpB,QAAQC,IAAIkB,GACZrB,KAAK0C,SAAWrB,EAAIjB,KAAKsC,SACzB1C,KAAKoC,WAAaf,EAAIjB,KAAKgC,WAC3BpC,KAAK4C,WAAY,OAKzBS,UAAWV,EAAOrG,GAChB4D,QAAQC,IAAIwC,EAAOrG,GAGjB0D,KAAKC,YAFH0C,EAEiB,GAGA,IAAKrG,GAE1B0D,KAAK2C,MAAQA,EACb,MAAMW,EAAmBtD,KAAKS,MAAM8C,aACpCD,EAAiBE,aAInBC,cAAenH,GAEb0D,KAAKC,YAAc3D,EAGnB,IAAI6G,EAAO,mEACPO,EAAa,OAGZ1D,KAAK2C,QACRQ,EAAO,oEAA0E7G,EAAKE,KACtFkH,EAAa,OAIf,MAAMJ,EAAmBtD,KAAKS,MAAM8C,aACpCvD,KAAK4C,WAAY,EACjBU,EAAiBK,YACjB3D,KAAKkB,MAAMwC,GAAYP,EAAK,CAAE/C,KAAMJ,KAAKC,cACtCmB,MAAMC,IACLnB,QAAQC,IAAIkB,GACZrB,KAAKkD,cACLlD,KAAK4C,WAAY,EACjB5C,KAAK4D,mBAAmBvC,OAK9BwC,oBAAqBvH,GACnB0D,KAAKC,YAAc,IAAK3D,GACxB,MAAMwH,EAAe9D,KAAKS,MAAMsD,SAChCD,EAAaN,aAIfQ,aACE,MAAMhD,EAAO,oEAA0EhB,KAAKC,YAAYzD,KACxGwD,KAAK4C,WAAY,EACjB5C,KAAKkB,MAAM+C,OAAOjD,GACfI,MAAM8C,IACLhE,QAAQC,IAAI+D,EAAS9D,MACrB,MAAM0D,EAAe9D,KAAKS,MAAMsD,SAChCD,EAAaH,YACb3D,KAAKkD,cACLlD,KAAK4C,WAAY,EAEjB5C,KAAK4D,mBAAmBM,EAAU,WAI1CC,UACEnE,KAAKkD,gBKvKT,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASkB,KAEpE","sources":["webpack://my-project/./src/views/back/ProductsAdmin.vue","webpack://my-project/./src/components/back/ProductModal.vue","webpack://my-project/./src/components/back/ProductModal.vue?b615","webpack://my-project/./src/components/back/PageAdmin.vue","webpack://my-project/./src/components/back/PageAdmin.vue?41d0","webpack://my-project/./src/views/back/ProductsAdmin.vue?6b4f"],"sourcesContent":["<template>\r\n  <loadingTip :active=\"isLoading\"></loadingTip>\r\n  <div class=\"container\">\r\n    <div class=\"text-end pt-5\">\r\n      <button class=\"btn btn-primary\" type=\"button\" @click=\"openModal(true)\">\r\n      增加產品\r\n      </button>\r\n    </div>\r\n    <table class=\"container table mt-4 table-hover\">\r\n      <thead class=\"table-dark\">\r\n        <tr>\r\n          <th width=\"120\">分類</th>\r\n          <th>產品名稱</th>\r\n          <th width=\"120\">原價</th>\r\n          <th width=\"120\">售價</th>\r\n          <th width=\"100\">是否啟用</th>\r\n          <th width=\"200\">編輯</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody class=\"bg-white\">\r\n        <tr v-for=\"item in products\" :key=\"item.id\">\r\n          <td>{{item.category}}</td>\r\n          <td>{{item.title}}</td>\r\n          <td class=\"text-right\">\r\n            {{ $filters.currency(item.origin_price) }}\r\n          </td>\r\n          <td class=\"text-right\">\r\n            {{ $filters.currency(item.price) }}\r\n          </td>\r\n          <td>\r\n            <span class=\"text-success\" v-if=\"item.is_enabled == 1\">啟用</span>\r\n            <span class=\"text-muted\" v-else>未啟用</span>\r\n          </td>\r\n          <td>\r\n            <div class=\"btn-group\">\r\n              <button\r\n                class=\"btn btn-outline-primary btn-sm\"\r\n                @click=\"openModal(false, item)\"\r\n              >編輯</button>\r\n              <button class=\"btn btn-outline-danger btn-sm\" @click=\"openDelProductModal(item)\">刪除</button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <PageView\r\n      class=\"d-flex justify-content-center mt-5\"\r\n      :page=\"pagination\"\r\n      @emit-page=\"getProducts\"\r\n    ></PageView>\r\n  </div>\r\n\r\n  <!-- props 請記得前內後外\r\n    :product=\"tempProduct\"\r\n    在ProductModal定義的props名稱= 底下data定義的資料\r\n  -->\r\n  <ProductModal\r\n    @update-product=\"updateProduct\"\r\n    ref=\"productModal\"\r\n    :product=\"tempProduct\"\r\n  >\r\n  </ProductModal>\r\n  <DelModal :item=\"tempProduct\" ref=\"delModal\" @del-item=\"delProduct\"/>\r\n</template>\r\n\r\n<script>\r\n// 載入產品列表內的兩個彈出窗\r\nimport ProductModal from '@/components/back/ProductModal.vue'\r\nimport DelModal from '@/components/back/DelModal.vue'\r\nimport PageView from '@/components/back/PageAdmin.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [], // 所有產品\r\n      pagination: {}, // 總頁數(會經由props傳遞到PageView)\r\n      tempProduct: {}, // 在新增產品時輸入的產品資料、當前載入的資料\r\n      isNew: false, // 透過這個屬性，來判斷是否是新增(true)or編輯(false)的狀態\r\n      isLoading: false // 讀取效果的開關\r\n    }\r\n  },\r\n  components: {\r\n    // 區域註冊 兩個彈出窗:新增(修改)產品、刪除產品，以及分頁\r\n    ProductModal,\r\n    DelModal,\r\n    PageView\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    // 取得產品列表資訊\r\n    // (page = 1) 這是參數預設值的代入，若page無值預設代入1\r\n    getProducts (page = 1) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`\r\n      this.isLoading = true\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            console.log(res)\r\n            this.products = res.data.products // 取得所有產品資料並賦予到data裡的products\r\n            this.pagination = res.data.pagination // 取得總頁碼並賦予到data裡的pagination\r\n            this.isLoading = false\r\n          }\r\n        })\r\n    },\r\n    // 開啟新增/修改產品表單\r\n    openModal (isNew, item) {\r\n      console.log(isNew, item)\r\n      if (isNew) {\r\n        // 如果是新增品項(true)，就把目前的產品表單清空\r\n        this.tempProduct = {}\r\n      } else {\r\n        // 如果是編輯品項(false)，就將編輯的產品資料代入表單內\r\n        this.tempProduct = { ...item }\r\n      }\r\n      this.isNew = isNew\r\n      const productComponent = this.$refs.productModal\r\n      productComponent.showModal() // 將表單彈出窗打開\r\n    },\r\n\r\n    // 新增/修改表單裡的「確認」按鈕\r\n    updateProduct (item) {\r\n      // 將emit傳入的新產品資料item，更新到tempProduct\r\n      this.tempProduct = item\r\n\r\n      // 新增產品資料，以下預設api及傳送方法\r\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`\r\n      let httpMethod = 'post'\r\n\r\n      // 一樣依照isNew判斷，是編輯的話，更改api及傳送方法\r\n      if (!this.isNew) {\r\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`\r\n        httpMethod = 'put'\r\n      }\r\n\r\n      // 上面判斷完畢後，最後執行遠端傳送\r\n      const productComponent = this.$refs.productModal\r\n      this.isLoading = true\r\n      productComponent.hideModal() // 新增完畢後關閉彈出窗\r\n      this.$http[httpMethod](api, { data: this.tempProduct })\r\n        .then((res) => {\r\n          console.log(res) // 確認結果\r\n          this.getProducts() // 將產品列表更新並重新渲染\r\n          this.isLoading = false\r\n          this.$httpMessageStatus(res) // 這段會執行:遠端傳送成功，將訊息傳遞至toast\r\n        })\r\n    },\r\n\r\n    // 開啟 刪除Modal\r\n    openDelProductModal (item) {\r\n      this.tempProduct = { ...item } // 載入當前資料(利於delProduct()代入id參數)\r\n      const delComponent = this.$refs.delModal\r\n      delComponent.showModal()\r\n    },\r\n\r\n    // 刪除視窗裡的「確認刪除」按鈕\r\n    delProduct () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\r\n      this.isLoading = true\r\n      this.$http.delete(url)\r\n        .then((response) => {\r\n          console.log(response.data)\r\n          const delComponent = this.$refs.delModal\r\n          delComponent.hideModal()\r\n          this.getProducts()\r\n          this.isLoading = false\r\n\r\n          this.$httpMessageStatus(response, '刪除')\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  }\r\n\r\n}\r\n</script>\r\n","<template>\r\n  <!-- Modal -->\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"exampleModal\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"modal\"\r\n  >\r\n\r\n    <!-- 請同學自行新增 v-model -->\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            <span>{{tempProduct.title ? '編輯產品' : '新增產品'}}</span>\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close\"\r\n                  data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-4\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n                <input\r\n                  v-model=\"tempProduct.imgLink\"\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"image\"\r\n                  placeholder=\"請輸入圖片連結\"\r\n                  >\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"customFile\" class=\"form-label\">或 上傳圖片\r\n                  <i class=\"fas fa-spinner fa-spin\"></i>\r\n                </label>\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"customFile\"\r\n                  class=\"form-control\"\r\n                  ref=\"fileInput\"\r\n                  @change=\"uploadFile\"\r\n                >\r\n              </div>\r\n              <img :src=\"tempProduct.imgLink\" class=\"img-fluid\" alt=\"\">\r\n\r\n            <!-- 延伸技巧，多圖 -->\r\n            <div class=\"mt-5\" v-if=\"tempProduct.images\">\r\n              <label class=\"form-label\">輸入多張圖片網址</label>\r\n              <div v-for=\"(image, key) in tempProduct.images\" :key=\"key\" class=\"mb-3 input-group\">\r\n                <input\r\n                  type=\"url\"\r\n                  class=\"form-control form-control\"\r\n                  placeholder=\"請輸入連結\"\r\n                  v-model=\"tempProduct.images[key]\"\r\n                  >\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-outline-danger\"\r\n                  @click=\"tempProduct.images.splice(key, 1)\"\r\n                >\r\n                  <i class=\"bi bi-x-lg\"></i>\r\n                </button>\r\n              </div>\r\n                <!-- 新增圖片的按鈕顯示原則 -->\r\n                <!-- 1. 圖片連結有輸入，才能再繼續新增圖片(圖片='' false) -->\r\n                <!-- 2. 當前尚未新增圖片(圖片數=0 布林值false 將他反轉為true執行v-if判斷) -->\r\n                <!-- 3. 限制最多5張 -->\r\n              <div v-if=\"tempProduct.images[tempProduct.images.length - 1] &&tempProduct.images.length <= 4 || !tempProduct.images.length \">\r\n                <button\r\n                  class=\"btn btn-outline-primary btn-sm d-block w-100\"\r\n                  @click=\"tempProduct.images.push('')\"\r\n                >\r\n                  新增圖片\r\n                </button>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            </div>\r\n            <div class=\"col-sm-8\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"title\" class=\"form-label\">標題</label>\r\n                <input\r\n                  v-model=\"tempProduct.title\"\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"title\"\r\n                  placeholder=\"請輸入標題\"\r\n                >\r\n              </div>\r\n\r\n              <div class=\"row gx-2\">\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"category\" class=\"form-label\">分類</label>\r\n                  <input\r\n                    v-model=\"tempProduct.category\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"category\"\r\n                    placeholder=\"請輸入分類\"\r\n                  >\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"price\" class=\"form-label\">單位</label>\r\n                  <input\r\n                    v-model=\"tempProduct.unit\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"unit\"\r\n                    placeholder=\"請輸入單位\"\r\n                  >\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row gx-2\">\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n                  <input\r\n                    v-model=\"tempProduct.origin_price\"\r\n                    type=\"number\"\r\n                    class=\"form-control\"\r\n                    id=\"origin_price\"\r\n                    placeholder=\"請輸入原價\"\r\n                  >\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"price\" class=\"form-label\">售價</label>\r\n                  <input\r\n                    v-model=\"tempProduct.price\"\r\n                    type=\"number\"\r\n                    class=\"form-control\"\r\n                    id=\"price\"\r\n                    placeholder=\"請輸入售價\"\r\n                  >\r\n                </div>\r\n              </div>\r\n              <hr>\r\n\r\n              <div class=\"mb-3\">\r\n                <label for=\"description\" class=\"form-label\">產品描述</label>\r\n                <textarea\r\n                  v-model=\"tempProduct.description\"\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"description\"\r\n                  placeholder=\"請輸入產品描述\"\r\n                  >\r\n                </textarea>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"content\" class=\"form-label\">說明內容</label>\r\n                <textarea\r\n                  v-model=\"tempProduct.content\"\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"content\"\r\n                  placeholder=\"請輸入產品說明內容\"\r\n                  >\r\n                </textarea>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    v-model=\"tempProduct.is_enabled\"\r\n                    class=\"form-check-input\"\r\n                    type=\"checkbox\"\r\n                    :true-value=\"1\"\r\n                    :false-value=\"0\"\r\n                    id=\"is_enabled\"\r\n                  >\r\n                  <label class=\"form-check-label\" for=\"is_enabled\">\r\n                    是否啟用\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n                  data-bs-dismiss=\"modal\">取消\r\n          </button>\r\n          <button\r\n            @click=\"$emit('update-product',tempProduct)\"\r\n            type=\"button\"\r\n            class=\"btn btn-primary\"\r\n          >\r\n          確認\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\n\r\nexport default {\r\n  props: {\r\n    product: {\r\n      type: Object, // 種類是物件\r\n      default () { return {} } // 如果是空的就預設回傳空的物件\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    // 由於單向數據流，props傳入的內容無法被修改，故需要監聽product有變動時，將資料更新到tempProduct\r\n    product () {\r\n      this.tempProduct = this.product\r\n      console.log('this.tempProduct.images結果是：' + this.tempProduct.images)\r\n      if (!this.tempProduct.images) {\r\n        this.tempProduct.images = [] // object 是true，v-if將會判斷顯示\r\n      }\r\n    }\r\n  },\r\n  // 準備一個data的內容，會回傳一個物件\r\n  data () {\r\n    return {\r\n      modal: {},\r\n      tempProduct: {} // 編輯資料時所定義的資料集(由props接收內容後監聽其內容的變更，再傳入至tempProduct)\r\n    }\r\n  },\r\n\r\n  // 在裡面新增方法，讓外部元件可以呼叫他\r\n  methods: {\r\n    // 上傳圖片\r\n    uploadFile () {\r\n      const uploadedFile = this.$refs.fileInput.files[0]\r\n      console.dir(uploadedFile) // 為何用dir?\r\n      const formData = new FormData() // 依照api文件，限制用form格式\r\n      formData.append('file-to-upload', uploadedFile) // 依照api文件，要加入欄位\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`\r\n      const select = this.$refs.fileInput.id // 取得上傳圖檔的input元素 id\r\n      this.$http.post(url, formData)\r\n        .then((res) => {\r\n          console.log(res.data)\r\n          if (res.data.success) {\r\n            this.tempProduct.imgLink = res.data.imageUrl // 將上傳成功後產生的連結傳進data變數\r\n            document.getElementById(select).value = '' // 清空input value\r\n          }\r\n        })\r\n    }\r\n  },\r\n  mixins: [modalMixin]\r\n}\r\n</script>\r\n","import { render } from \"./ProductModal.vue?vue&type=template&id=300e8674\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Lin\\\\Desktop\\\\my-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination\">\r\n      <li class=\"page-item\" :class=\"{'disabled': !page.has_pre}\">\r\n        <a\r\n          class=\"page-link \"\r\n          href=\"#\"\r\n          aria-label=\"Previous\"\r\n          @click.prevent=\"updatePage(page.current_page - 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li\r\n        v-for=\"pagination in page.total_pages\"\r\n        :key=\"pagination\"\r\n        class=\"page-item\"\r\n        :class=\"{ 'active': pagination == page.current_page }\"\r\n      >\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(pagination)\">\r\n          {{ pagination }}\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{'disabled': !page.has_next}\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Next\"\r\n          @click.prevent=\"updatePage(page.current_page + 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['page'],\r\n  methods: {\r\n    updatePage (pagination) {\r\n      this.$emit('emit-page', pagination)\r\n    }\r\n  },\r\n  emits: ['emit-page'] // 如沒有定義這個會出現warn報錯，原因請看筆記\r\n}\r\n</script>\r\n","import { render } from \"./PageAdmin.vue?vue&type=template&id=4fbdc3da\"\nimport script from \"./PageAdmin.vue?vue&type=script&lang=js\"\nexport * from \"./PageAdmin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Lin\\\\Desktop\\\\my-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsAdmin.vue?vue&type=template&id=1675ee58\"\nimport script from \"./ProductsAdmin.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsAdmin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Lin\\\\Desktop\\\\my-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","_createVNode","_component_loadingTip","active","$data","type","onClick","$options","_hoisted_4","_createElementBlock","_Fragment","_renderList","item","key","id","_toDisplayString","category","title","_ctx","currency","origin_price","price","is_enabled","_hoisted_11","_hoisted_12","_component_PageView","page","onEmitPage","_component_ProductModal","onUpdateProduct","ref","product","_component_DelModal","onDelItem","tabindex","role","for","_hoisted_19","_hoisted_6","imgLink","$event","placeholder","_hoisted_13","onChange","src","alt","images","_hoisted_16","image","splice","length","_hoisted_21","push","_hoisted_24","_hoisted_27","_hoisted_29","unit","_hoisted_32","_hoisted_34","_hoisted_35","_hoisted_37","description","_hoisted_39","content","_hoisted_42","_hoisted_44","props","Object","default","watch","this","tempProduct","console","log","data","modal","methods","uploadFile","uploadedFile","$refs","fileInput","files","dir","formData","FormData","append","url","select","$http","post","then","res","success","imageUrl","document","getElementById","value","mixins","modalMixin","__exports__","_hoisted_3","$props","has_pre","href","current_page","total_pages","pagination","_hoisted_5","has_next","updatePage","$emit","emits","products","isNew","isLoading","components","ProductModal","DelModal","PageView","inject","getProducts","api","get","openModal","productComponent","productModal","showModal","updateProduct","httpMethod","hideModal","$httpMessageStatus","openDelProductModal","delComponent","delModal","delProduct","delete","response","created","render"],"sourceRoot":""}