{"version":3,"file":"js/933.673c9c7d.js","mappings":"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","sources":["webpack://my-project/./src/components/front/CartProcess.vue","webpack://my-project/./src/components/front/CartProcess.vue?f890","webpack://my-project/./src/views/front/UserCheckout.vue","webpack://my-project/./src/views/front/UserCheckout.vue?0263"],"sourcesContent":["<template>\n  <ul class=\"process mb-5\">\n    <!-- step1 -->\n    <li\n      class=\"d-md-flex\"\n      :class=\"{ 'bg-primary': path == '1', 'd-none': path != '1' }\"\n    >\n      <i\n        class=\"bi bi-cart-check-fill fs-2\"\n        :class=\"{ 'text-light': path == '1' }\"\n      ></i>\n      <span :class=\"{ 'text-light': path == '1' }\">確認購買明細</span>\n    </li>\n    <!-- step2 -->\n    <li\n      class=\"d-md-flex\"\n      :class=\"{ 'bg-primary': path == '2', 'd-none': path != '2' }\"\n    >\n      <i\n        class=\"bi bi-person-lines-fill fs-2\"\n        :class=\"{ 'text-light': path == '2' }\"\n      ></i>\n      <span :class=\"{ 'text-light': path == '2' }\">填寫訂購資料</span>\n    </li>\n    <!-- step3 -->\n    <li\n      class=\"d-md-flex\"\n      :class=\"{ 'bg-primary': path == '3', 'd-none': path != '3' }\"\n    >\n      <i\n        class=\"bi bi-check-circle-fill fs-2\"\n        :class=\"{ 'text-light': path == '3' }\"\n      ></i>\n      <span :class=\"{ 'text-light': path == '3' }\">完成商品訂購</span>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  props: ['path']\n}\n</script>\n","import { render } from \"./CartProcess.vue?vue&type=template&id=1e66c598\"\nimport script from \"./CartProcess.vue?vue&type=script&lang=js\"\nexport * from \"./CartProcess.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Lin\\\\Desktop\\\\my-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <loadingTip :active=\"isLoading\"></loadingTip>\r\n  <div class=\"container\">\r\n    <div class=\"border mt-5 mb-3 pt-5\">\r\n      <process :path=\"processPath\"></process>\r\n      <div class=\"row justify-content-center flex-md-row-reverse mt-5 py-5\">\r\n        <div class=\"col-11 col-xl-6\">\r\n            <div class=\"d-flex flex-column justify-content-between mb-3\">\r\n              <div class=\"bg-light text-primary border-5 border-start border-primary fw-bold h5 ps-2 py-1\">購物清單\r\n              </div>\r\n              <table class=\"table table-sm align-middle checkout-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th></th>\r\n                    <th>產品</th>\r\n                    <th>數量</th>\r\n                    <th>單價</th>\r\n                    <th>小計</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in products\" :key=\"item.id\">\r\n                    <td>\r\n                      <img width=\"80\" :src=\"item.product.imgLink\" :alt=\"item.product.title\">\r\n                    </td>\r\n                    <td>{{item.product.title}}<br><br>S</td>\r\n                    <td>{{item.qty}}</td>\r\n                    <td>{{item.product.price}}</td>\r\n                    <td>{{item.total}}</td>\r\n                  </tr>\r\n                </tbody>\r\n\r\n                <tfoot class=\"table table-borderless text-end\">\r\n                  <tr v-if=\"couponTotal\">\r\n                    <td></td>\r\n                    <td colspan=\"2\">折扣金額</td>\r\n                    <td colspan=\"2\">{{couponTotal}}</td>\r\n                  </tr>\r\n                  <tr class=\"text-danger\">\r\n                    <td></td>\r\n                    <td colspan=\"2\">應付金額</td>\r\n                    <td colspan=\"2\">NT$ {{Math.round(order.total)}}</td>\r\n                  </tr>\r\n                </tfoot>\r\n              </table>\r\n\r\n            </div>\r\n        </div>\r\n        <div class=\"col-11 col-xl-4\">\r\n          <div class=\"border-primary text-primary pb-1 mb-3\">\r\n            <div class=\"border-5 border-start border-primary fw-bold h5 ps-2 py-1 bg-light\">收件資料</div>\r\n\r\n            <table class=\"table\">\r\n              <tbody>\r\n                <tr>\r\n                  <th>姓名</th>\r\n                  <td>{{user.name}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>電話</th>\r\n                  <td>{{user.tel}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>地址</th>\r\n                  <td>{{user.address}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>e-mail</th>\r\n                  <td>{{user.email}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>留言內容</th>\r\n                  <td>{{order.message}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>訂單編號</th>\r\n                  <td>{{order.create_at}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>付款狀態</th>\r\n                  <td :class=\"{'text-success':order.is_paid,'text-danger':!order.is_paid}\">\r\n                    {{order.is_paid ? '已付款':'未付款'}}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <button v-if=\"!order.is_paid\" @click.prevent=\"toPaid\" class=\"btn btn-outline-primary rounded-0 w-100\">點此付款去</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport process from '@/components/front/CartProcess'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      processPath: 3,\r\n      orderID: '',\r\n      order: [],\r\n      products: [],\r\n      user: [],\r\n      isLoading: false\r\n    }\r\n  },\r\n  computed: {\r\n    couponTotal () {\r\n      let total = 0\r\n      Object.values(this.products).forEach((item) => {\r\n        total += item.total\r\n      })\r\n      return Math.round(total) - Math.round(this.order.total)\r\n    }\r\n  },\r\n  components: { process },\r\n  methods: {\r\n    getOrder () {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderID}`\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          console.log(res)\r\n          if (res.data.success) {\r\n            this.order = res.data.order\r\n            this.products = { ...res.data.order.products }\r\n            this.user = { ...res.data.order.user }\r\n          } else {\r\n            this.$swal({\r\n              icon: 'error',\r\n              title: '載入失敗',\r\n              text: '請重新整理頁面'\r\n            })\r\n          }\r\n          this.isLoading = false\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = false\r\n          this.$swal({\r\n            icon: 'error',\r\n            title: '發生錯誤',\r\n            text: err,\r\n            footer: '<a href=\"\">請洽詢管理員</a>'\r\n          })\r\n        })\r\n    },\r\n    toPaid () {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderID}`\r\n      this.$http.post(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.getOrder()\r\n          } else {\r\n            this.$swal({\r\n              icon: 'error',\r\n              title: '載入失敗',\r\n              text: '請重新整理頁面'\r\n            })\r\n          }\r\n          this.isLoading = false\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = false\r\n          this.$swal({\r\n            icon: 'error',\r\n            title: '發生錯誤',\r\n            text: err,\r\n            footer: '<a href=\"\">請洽詢管理員</a>'\r\n          })\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.orderID = this.$route.params.orderID\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCheckout.vue?vue&type=template&id=0905c9e2\"\nimport script from \"./UserCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Lin\\\\Desktop\\\\my-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","$props","props","__exports__","render","colspan","_createVNode","_component_loadingTip","active","$data","_component_process","path","_hoisted_6","_hoisted_8","_Fragment","_renderList","item","key","id","width","src","product","imgLink","alt","title","_hoisted_10","_hoisted_11","_toDisplayString","qty","price","total","$options","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_19","_hoisted_20","Math","round","_hoisted_24","_hoisted_26","name","_hoisted_27","tel","_hoisted_28","address","_hoisted_29","email","_hoisted_30","message","_hoisted_31","create_at","_hoisted_32","is_paid","onClick","data","processPath","orderID","order","products","user","isLoading","computed","couponTotal","Object","values","this","forEach","components","process","methods","getOrder","api","$http","get","then","res","console","log","success","$swal","icon","text","catch","err","footer","toPaid","post","created","$route","params"],"sourceRoot":""}