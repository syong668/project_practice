"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[805],{510:function(t,e,n){n.d(e,{Z:function(){return u}});var r=n(3396),s=n(7139);const i={class:"fs-1"};function o(t,e,n,o,a,l){return(0,r.wg)(),(0,r.iD)("div",{class:"small-banner",style:(0,s.j5)([{"background-image":`url(${n.bannerInfo.url})`},{"background-position":`${n.bannerInfo.position}`}])},[(0,r._)("span",i,(0,s.zw)(n.bannerInfo.title),1)],4)}var a={props:["bannerInfo"]},l=n(89);const c=(0,l.Z)(a,[["render",o],["__scopeId","data-v-5e21bcb2"]]);var u=c},1805:function(t,e,n){n.r(e),n.d(e,{default:function(){return D}});var r=n(3396),s=n(7139);const i={class:"container mb-5"},o={key:0,class:"border mt-5 mb-3 px-md-5 pt-5"},a={class:"table table-borderless align-middle text-secondary"},l=(0,r._)("thead",{class:"table-light"},[(0,r._)("tr",null,[(0,r._)("th",null,"縮圖"),(0,r._)("th",null,"商品名稱"),(0,r._)("th",null,"單價"),(0,r._)("th",null,"移除")])],-1),c=["onClick","src","alt"],u=["onClick"],d=["onClick"],p=(0,r._)("i",{class:"bi bi-trash3-fill"},null,-1),b=[p],h={key:1,class:"border my-5 py-5"},f={class:"text-center py-5"},g=(0,r._)("i",{class:"bi bi-clipboard-heart text-secondary",style:{"font-size":"120px"}},null,-1),v=(0,r._)("p",null,"您尚無加入收藏的商品",-1),m=(0,r.Uk)("來去逛逛");function _(t,e,n,p,_,k){const y=(0,r.up)("loadingTip"),w=(0,r.up)("banner"),x=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(y,{active:_.isLoading},null,8,["active"]),(0,r.Wm)(w,{bannerInfo:_.bannerInfo},null,8,["bannerInfo"]),(0,r._)("div",i,[0!==k.favoriteProducts.length?((0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("table",a,[l,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(k.favoriteProducts,(t=>((0,r.wg)(),(0,r.iD)("tr",{key:t.id},[(0,r._)("td",null,[(0,r._)("img",{class:"cursor-hover",onClick:e=>k.getProduct(t.id),src:t.imgLink,alt:t.title,style:{width:"100px"}},null,8,c)]),(0,r._)("td",null,[(0,r._)("span",{class:"cursor-hover",onClick:e=>k.getProduct(t.id)},(0,s.zw)(t.title),9,u)]),(0,r._)("td",null,(0,s.zw)(t.price),1),(0,r._)("td",null,[(0,r._)("button",{type:"button",class:"btn btn-sm",onClick:e=>k.delFavorite(t.id)},b,8,d)])])))),128))])])])):((0,r.wg)(),(0,r.iD)("div",h,[(0,r._)("div",f,[g,v,(0,r.Wm)(x,{class:"btn btn-primary rounded-0",to:"/products"},{default:(0,r.w5)((()=>[m])),_:1})])]))])],64)}var k=n(510),y={data(){return{favoriteData:JSON.parse(localStorage.getItem("favorite"))||[],products:[],bannerInfo:{url:"https://images.pexels.com/photos/8151548/pexels-photo-8151548.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",title:"收藏清單",position:"0% 60%"},isLoading:!1}},inject:["emitter"],components:{banner:k.Z},computed:{favoriteProducts(){return this.products.filter((t=>-1!==this.favoriteData.indexOf(t.id)))}},methods:{getProducts(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/bear-work/products/all";this.$http.get(t).then((t=>{t.data.success&&(this.products=t.data.products,this.isLoading=!1)}))},getProduct(t){this.$router.push(`/product/${t}`)},delFavorite(t){const e=this.favoriteData.indexOf(t);-1!==e&&(this.favoriteData.splice(e,1),this.$swal({icon:"success",title:"移除成功"})),localStorage.setItem("favorite",JSON.stringify(this.favoriteData)),this.emitter.emit("updateNavbarFavorite")}},created(){this.getProducts()}},w=n(89);const x=(0,w.Z)(y,[["render",_]]);var D=x}}]);
//# sourceMappingURL=805.c5f5966e.js.map